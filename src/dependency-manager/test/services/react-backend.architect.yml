name: architect-ci/react-app-backend
description: Example react-app backend
author: Architect.io
language: node
image: architectio/react-backend
interfaces:
  main: 8080
dependencies:
  db:
    image: postgres:11
    interfaces:
      postgres: 5432
    parameters:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: architect
      POSTGRES_DB: test_database
parameters:
  POSTGRES_HOST: ${ dependencies.db.interfaces.postgres.internal.host }
  POSTGRES_PORT: ${ dependencies['db'].interfaces.postgres.internal.port }
  POSTGRES_USER: ${ dependencies.db.parameters.POSTGRES_USER }
  POSTGRES_PASSWORD:
    value_from:
      dependency: db
      value: $POSTGRES_PASSWORD
  POSTGRES_DB:
    value_from:
      dependency: db
      value: $POSTGRES_DB
